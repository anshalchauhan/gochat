"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[34],{7909:function(e,n,r){var t=r(6015),i=r(4162),o=r(184);n.Z=function(e){var n=e.children,r=e.padding,a=e.spacing;return(0,o.jsx)(t.Z,{sx:{position:"relative",height:"100vh",width:320,backgroundColor:function(e){return"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper},boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,o.jsx)(i.Z,{p:r,spacing:a,direction:"column",height:"100%",children:n})})}},3309:function(e,n,r){r.d(n,{Fl:function(){return f},Iy:function(){return m},au:function(){return s},ZP:function(){return a}});var t=r(1413),i=r(1134),o=r(184);function a(e){var n=e.children,r=e.onSubmit,a=e.methods;return(0,o.jsx)(i.RV,(0,t.Z)((0,t.Z)({},a),{},{children:(0,o.jsx)("form",{onSubmit:r,children:n})}))}var u=r(5987),c=r(5533),l=["name","helperText"];function s(e){var n=e.name,r=e.helperText,a=(0,u.Z)(e,l),s=(0,i.Gc)().control;return(0,o.jsx)(i.Qr,{name:n,control:s,render:function(e){var n=e.field,i=e.fieldState.error;return(0,o.jsx)(c.Z,(0,t.Z)((0,t.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,error:!!i,helperText:i?null===i||void 0===i?void 0:i.message:r},a))}})}var d=r(2262),h=["name","label","helperText"];function f(e){var n=e.name,r=e.label,a=e.helperText,l=(0,u.Z)(e,h),s=(0,i.Gc)(),f=s.control,p=s.setValue,x=function(e,r){p(n,r,{shouldValidate:!0})};return(0,o.jsx)(i.Qr,{name:n,control:f,render:function(e){var n=e.field,i=e.fieldState.error;return(0,o.jsx)(d.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,onChange:x},l),{},{renderInput:function(e){return(0,o.jsx)(c.Z,(0,t.Z)({label:r,error:!!i,helperText:i?null===i||void 0===i?void 0:i.message:a},e))}}))}})}var p=r(4162),x=r(2791),v=["keyName","inputs"],m=function(e){var n=e.keyName,r=void 0===n?"":n,a=e.inputs,l=void 0===a?[]:a,s=(0,u.Z)(e,v),d=(0,x.useRef)(null),h=(0,i.Gc)().control;return(0,o.jsx)(p.Z,{direction:"row",spacing:2,justifyContent:"center",ref:d,children:l.map((function(e,n){return(0,o.jsx)(i.Qr,{name:"".concat(r).concat(n+1),control:h,render:function(e){var i=e.field,a=e.fieldState.error;return(0,o.jsx)(c.Z,(0,t.Z)((0,t.Z)({},i),{},{error:!!a,autoFocus:0===n,placeholder:"-",onChange:function(e){!function(e,n){var t=e.target,i=t.maxLength,o=t.value,a=t.name,u=Number(a.replace(r,"")),c=document.querySelector("input[name=".concat(r).concat(u+1,"]"));o.length>i&&(e.target.value=o[0]),o.length>=i&&u<6&&null!==c&&c.focus(),n(e)}(e,i.onChange)},onFocus:function(e){return e.currentTarget.select()},InputProps:{sx:{width:{xs:36,sm:56},height:{xs:36,sm:56},"& input":{p:0,textAlign:"center"}}},inputProps:{maxLength:1,type:"number"}},s))}},e)}))})}},1034:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(2791),i=r(7909),o=r(4162),a=r(3811),u=r(4565),c=r(4559),l=r(4165),s=r(5861),d=r(1134),h=r(8007),f=r(4695),p=r(3309),x=r(8771),v=r(7205),m=r(9434),Z=r(2140),g=r(885),j=r(788),b=r(8440),y=r(9959),k=r.n(y),C=r(184),S=function(e){var n=e.open,r=e.handleClose,t=e.src,i=e.onClose,a=e.onCrop,c=e.onSave;return(0,C.jsxs)(j.Z,{fullWidth:!0,maxWidth:"xs",open:n,keepMounted:!0,onClose:r,sx:{p:4},children:[(0,C.jsx)(o.Z,{p:2,children:(0,C.jsx)(u.Z,{variant:"h5",children:"Update Profie Picture"})}),(0,C.jsx)(b.Z,{children:(0,C.jsxs)(o.Z,{sx:{height:"100%"},spacing:2,children:[(0,C.jsx)(k(),{width:400,height:300,onClose:i,onCrop:a,src:t}),(0,C.jsx)(o.Z,{direction:"row",justifyContent:"end",children:(0,C.jsx)(v.Z,{color:"primary",size:"large",type:"submit",variant:"outlined",onClick:c,children:"Save"})})]})})]})},w=function(e){var n=e.file,r=e.onAvatarFileHandler,i=(0,t.useState)(!1),o=(0,g.Z)(i,2),a=o[0],u=o[1],c=(0,t.useState)(null),d=(0,g.Z)(c,2),h=d[0],f=(d[1],(0,t.useState)(n)),p=(0,g.Z)(f,2),x=p[0],v=p[1],m=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(x),u((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("img",{style:{display:"block",margin:"0 auto",width:"125px",height:"125px",borderRadius:"50%",objectFit:"cover"},src:x,alt:"Default Avatar",onClick:function(){return u((function(e){return!e}))}}),a&&(0,C.jsx)(S,{open:a,handleClose:function(){return u((function(e){return!e}))},src:h,onClose:function(){v(null)},onCrop:function(e){v(e)},onSave:m})]})},F=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.user.user})).avatar,r=h.Ry().shape({nickName:h.Z_(),about:h.Z_().required("About is required")}),t=(0,d.cI)({resolver:(0,f.X)(r),defaultValues:{nickName:"",about:""}}),i=t.handleSubmit,a=t.formState.errors,u=function(){var r=(0,s.Z)((0,l.Z)().mark((function r(t){return(0,l.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e((0,Z.hi)(n)).unwrap().then((function(n){console.log(n),e((0,Z.DO)({nickName:null===t||void 0===t?void 0:t.nickName,about:null===t||void 0===t?void 0:t.about,avatar:null===n||void 0===n?void 0:n.data.split("?")[0]})).unwrap().then((function(){e((0,Z.jW)({severity:"success",message:"User Profile Updated Successfully!"}))}))})).catch((function(e){console.log(e)}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,C.jsx)(p.ZP,{methods:t,onSubmit:i(u),children:(0,C.jsxs)(o.Z,{spacing:3,children:[(0,C.jsxs)(o.Z,{spacing:3,children:[!!a.afterSubmit&&(0,C.jsx)(x.Z,{severity:"error",children:a.afterSubmit.message}),(0,C.jsx)(w,{file:n,onAvatarFileHandler:function(e){n=e}}),(0,C.jsx)(p.au,{name:"nickName",label:"Nick Name",helperText:"This name is visible to your contacts"}),(0,C.jsx)(p.au,{multiline:!0,rows:4,name:"about",label:"About"})]}),(0,C.jsx)(o.Z,{direction:"row",justifyContent:"end",children:(0,C.jsx)(v.Z,{color:"primary",size:"large",type:"submit",variant:"outlined",children:"Save"})})]})})},N=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(i.Z,{padding:4,spacing:5,children:[(0,C.jsx)(o.Z,{direction:"row",alignItems:"center",spacing:3}),"Header",(0,C.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:3,children:[(0,C.jsx)(a.Z,{children:(0,C.jsx)(c.Z,{size:24,color:"#4B4B4B"})}),(0,C.jsx)(u.Z,{variant:"h5",children:"Profile"})]}),(0,C.jsx)(F,{})]})})}}}]);
//# sourceMappingURL=34.fe2b7676.chunk.js.map