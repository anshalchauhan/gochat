"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[114],{4596:function(e,n,r){var t=r(5987),i=r(1413),o=r(2791),s=r(2232),a=r(788),c=r(464),l=r(8440),d=r(9571),u=r(184),h=["open","onClose","dialogText","dialogContentText","dialogForm"],x=o.forwardRef((function(e,n){return(0,u.jsx)(s.Z,(0,i.Z)({direction:"up",ref:n},e))}));n.Z=function(e){var n=e.open,r=e.onClose,o=e.dialogText,s=e.dialogContentText,p=e.dialogForm,g=(0,t.Z)(e,h);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(a.Z,(0,i.Z)((0,i.Z)({open:n,TransitionComponent:x,keepMounted:!0,onClose:r,"aria-describedby":"alert-dialog-slide-description"},g),{},{children:[o&&(0,u.jsx)(c.Z,{sx:{mb:3},children:o}),(0,u.jsxs)(l.Z,{children:[s&&(0,u.jsx)(d.Z,{id:"alert-dialog-slide-description",children:s}),p]})]}))})}},1588:function(e,n,r){var t=r(6015),i=r(2065),o=r(184);n.Z=function(e){var n=e.onClick,r=e.children,s=e.isSelected,a={width:"100%",height:60,borderRadius:1,backgroundColor:function(e){return s?"light"===e.palette.mode?(0,i.Fq)(e.palette.primary.main,.5):e.palette.primary.main:"light"===e.palette.mode?"#fff":(0,i.Fq)(e.palette.background.default,1)}};return(0,o.jsx)(t.Z,{p:1,sx:a,onClick:n,children:r})}},7909:function(e,n,r){var t=r(6015),i=r(4162),o=r(184);n.Z=function(e){var n=e.children,r=e.padding,s=e.spacing;return(0,o.jsx)(t.Z,{sx:{position:"relative",height:"100vh",width:320,backgroundColor:function(e){return"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper},boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.25)"},children:(0,o.jsx)(i.Z,{p:r,spacing:s,direction:"column",height:"100%",children:n})})}},8659:function(e,n,r){var t=r(6015),i=(0,r(277).ZP)(t.Z)((function(){return{"&.scrollbar::-webkit-scrollbar":{width:10,backgroundColor:"transparent"},"&.scrollbar::-webkit-scrollbar-thumb":{borderRadius:20,backgroundColor:"transparent"},"&.scrollbar:hover::-webkit-scrollbar-thumb":{borderRadius:20,background:"#6c6b6b"}}}));n.Z=i},9119:function(e,n,r){var t=r(277),i=r(2065),o=r(1169),s=r(703),a=r(184),c=(0,t.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,i.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),l=(0,t.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),d=(0,t.ZP)(o.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}));n.Z=function(){return(0,a.jsxs)(c,{children:[(0,a.jsx)(l,{children:(0,a.jsx)(s.Z,{color:"#709CE6"})}),(0,a.jsx)(d,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})}},5670:function(e,n,r){var t=r(277),i=r(294),o=(0,t.ZP)(i.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"rippleBadge 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes rippleBadge":{"0%":{transform:"scale(0.8)",opacity:1},"100%":{transform:"scale(2)",opacity:0}}}}));n.Z=o},3790:function(e,n,r){r.d(n,{Z:function(){return V}});var t=r(885),i=r(2791),o=r(4162),s=r(4565),a=r(3811),c=r(1872),l=r(662),d=r(9593),u=r(9119),h=r(8659),x=r(788),p=r(4293),g=r(166),f=r(8440),j=r(9434),m=r(2140),Z=r(1413),v=r(6015),k=r(3978),b=r(7205),y=r(277),w=r(5670),C=r(1498),W=r(3687),I=r(184),E=window.localStorage.getItem("userId"),L=(0,y.ZP)(v.Z)((function(e){e.theme;return{"&:hover":{cursor:"pointer"}}})),F=function(e){var n=e.type,r=e.id,t=e._id,i=e.firstName,c=e.lastName,l=e.avatar,d=(e.incoming,e.missed,e.online),u="".concat(i," ").concat(c);return(0,I.jsx)(L,{sx:{width:"100%",borderRadius:1,backgroundColor:function(e){return e.palette.background.paper}},p:2,children:(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:2,children:[" ",d?(0,I.jsx)(w.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,I.jsx)(k.Z,{alt:u,src:l})}):(0,I.jsx)(k.Z,{alt:u,src:l}),(0,I.jsx)(o.Z,{spacing:.3,children:(0,I.jsx)(s.Z,{variant:"subtitle2",children:u})})]}),(0,I.jsx)(o.Z,{direction:"row",spacing:2,alignItems:"center",children:function(){switch(n){case"friend_request":return(0,I.jsx)(b.Z,{onClick:function(){return null===C.W||void 0===C.W?void 0:C.W.emit("friend_request",{to:t,from:E},(function(){return alert("request sent")}))},children:"Send Request"});case"start_conversation":return(0,I.jsx)(a.Z,{onClick:function(){return null===C.W||void 0===C.W?void 0:C.W.emit("start_conversation",{to:t,from:E})},children:(0,I.jsx)(W.Z,{})});case"accept_request":return(0,I.jsx)(b.Z,{onClick:function(){return null===C.W||void 0===C.W?void 0:C.W.emit("accept_request",{requestId:r},(function(){return alert("request accepted")}))},children:"Accept Request"})}}()})]})})},_=function(e){var n=e.thunk,r=e.list,t=e.type,o=(0,j.I0)();return(0,i.useEffect)((function(){o(n())}),[o,n]),(0,I.jsx)(I.Fragment,{children:r.map((function(e){return(0,I.jsx)(F,(0,Z.Z)((0,Z.Z)({type:t,id:e._id},e.sender),e),e._id)}))})},q=function(e){var n=e.open,r=e.handleClose,s=(0,i.useState)(0),a=(0,t.Z)(s,2),c=a[0],l=a[1],d=(0,j.v9)((function(e){return e.user})),u=d.users,h=d.friends,Z=d.friendRequests;return(0,I.jsxs)(x.Z,{fullWidth:!0,maxWidth:"xs",open:n,keepMounted:!0,onClose:r,sx:{p:4},children:[(0,I.jsx)(o.Z,{p:2,sx:{width:"100%"},children:(0,I.jsxs)(p.Z,{value:c,onChange:function(e,n){l(n)},centered:!0,children:[(0,I.jsx)(g.Z,{label:"Explorer"}),(0,I.jsx)(g.Z,{label:"Friends"}),(0,I.jsx)(g.Z,{label:"Requests"})]})}),(0,I.jsx)(f.Z,{children:(0,I.jsx)(o.Z,{sx:{height:"100%"},children:(0,I.jsx)(o.Z,{spacing:2.5,children:function(){switch(c){case 0:return(0,I.jsx)(_,{thunk:m.uh,list:u,type:"friend_request"});case 1:return(0,I.jsx)(_,{thunk:m.nm,list:h,type:"start_conversation"});case 2:return(0,I.jsx)(_,{thunk:m.Sv,list:Z,type:"accept_request"})}}()})})})]})},R=r(7909),S=r(1588),P=function(e){var n=e.id,r=e.userId,t=e.img,i=e.name,a=e.msg,c=e.lastMessage,l=e.time,d=e.unread,u=e.online,h=(0,j.I0)(),x=(0,j.v9)((function(e){return e.user})).roomId,p=null===x||void 0===x?void 0:x.toString(),g=p===n.toString();return p||(g=!1),(0,I.jsx)(S.Z,{onClick:function(){h((0,m.xu)({roomId:n})),h((0,m.NI)({id:n,userId:r,img:t,name:i,msg:a,time:l,unread:d,online:u}))},isSelected:g,children:(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsxs)(o.Z,{direction:"row",spacing:2,children:[u?(0,I.jsx)(w.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,I.jsx)(k.Z,{src:t})}):(0,I.jsx)(k.Z,{alt:i,src:t}),(0,I.jsxs)(o.Z,{spacing:.3,children:[(0,I.jsx)(s.Z,{variant:"subtitle2",children:i}),(0,I.jsx)(s.Z,{variant:"caption",children:(null===c||void 0===c?void 0:c.length)>24?"".concat(null===c||void 0===c?void 0:c.slice(0,24),"..."):c})]})]}),(0,I.jsx)(o.Z,{height:40,alignItems:"flex-start",spacing:2,children:(0,I.jsx)(s.Z,{sx:{fontWeight:600},variant:"caption",children:l})})]})})},M=function(e){var n=e.type,r=(0,j.I0)(),t=(0,j.v9)((function(e){return e.chat.singleChat})),a=t.conversations,c=t.currentMessages,l=(0,j.v9)((function(e){return e.user.user}))._id;return(0,i.useEffect)((function(){C.W.emit("get_single_chat_conversations",{userId:l},(function(e){r((0,m.yK)({userId:l,conversations:e}))}))}),[l,r,c]),(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(o.Z,{spacing:2.4,children:[(0,I.jsx)(s.Z,{sx:{color:"#676767"},variant:"subtitle2",children:n}),a.filter((function(e){return!e.pinned})).map((function(e){return(0,I.jsx)(P,(0,Z.Z)({},e),e.id)}))]})})},N=r(8433),T=r(1707),B=r(5510),O=r(6628),z=r(4059),A=function(e){var n=e.online,r=e.incoming,t=e.missed;return(0,I.jsx)(S.Z,{children:(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:2,children:[n?(0,I.jsx)(w.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,I.jsx)(k.Z,{src:T.We.image.avatar()})}):(0,I.jsx)(k.Z,{alt:T.We.person.fullName(),src:T.We.image.avatar()}),(0,I.jsxs)(o.Z,{spacing:.3,children:[(0,I.jsx)(s.Z,{variant:"subtitle2",children:T.We.person.fullName()}),(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[r?(0,I.jsx)(B.Z,{color:t?"red":"green"}):(0,I.jsx)(O.Z,{color:t?"red":"green"}),(0,I.jsx)(s.Z,{variant:"caption",children:"Yesterday 21:24"})]})]})]}),(0,I.jsx)(a.Z,{children:(0,I.jsx)(z.Z,{color:"green"})})]})})},H=function(){return(0,I.jsx)(I.Fragment,{children:N.Ig.map((function(e){return(0,I.jsx)(A,(0,Z.Z)({},e),e.id)}))})},V=function(e){var n=e.heading,r=e.type,x=e.option,p=e.elementType,g=(0,i.useState)(!1),f=(0,t.Z)(g,2),j=f[0],m=f[1];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(R.Z,{padding:3,spacing:2,children:[(0,I.jsxs)(o.Z,{spacing:2,children:[(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(s.Z,{variant:"h5",children:n}),(0,I.jsxs)(o.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,I.jsx)(a.Z,{onClick:function(){m(!0)},children:(0,I.jsx)(l.Z,{})}),(0,I.jsx)(a.Z,{children:(0,I.jsx)(d.Z,{})})]})]}),(0,I.jsx)(o.Z,{sx:{width:"100%"},children:(0,I.jsx)(u.Z,{})}),(0,I.jsxs)(o.Z,{spacing:1,children:[x,(0,I.jsx)(c.Z,{})]})]}),(0,I.jsx)(h.Z,{className:"scrollbar",sx:{flexGrow:1,height:"100%",overflowY:"scroll"},children:(0,I.jsx)(o.Z,{spacing:2,direction:"column",children:function(){switch(p){case"Chat":return(0,I.jsx)(M,{type:r});case"Call":return(0,I.jsx)(H,{})}}()})})]}),j&&(0,I.jsx)(q,{open:j,handleClose:function(){m(!1)}})]})}},7320:function(e,n,r){var t=r(2791),i=r(2602),o=r(7120),s=new Map;s.set("bold",(function(e){return t.createElement(t.Fragment,null,t.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),t.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return t.createElement(t.Fragment,null,t.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))})),s.set("light",(function(e){return t.createElement(t.Fragment,null,t.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),t.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return t.createElement(t.Fragment,null,t.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),t.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return t.createElement(t.Fragment,null,t.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),t.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,i._)(e,n,s)},c=(0,t.forwardRef)((function(e,n){return t.createElement(o.Z,Object.assign({ref:n},e,{renderPath:a}))}));c.displayName="Plus",n.Z=c}}]);
//# sourceMappingURL=114.ea5bcdf4.chunk.js.map