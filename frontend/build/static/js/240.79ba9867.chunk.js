"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[240],{3309:function(e,n,r){r.d(n,{Fl:function(){return f},Iy:function(){return Z},au:function(){return c},ZP:function(){return i}});var t=r(1413),o=r(1134),s=r(184);function i(e){var n=e.children,r=e.onSubmit,i=e.methods;return(0,s.jsx)(o.RV,(0,t.Z)((0,t.Z)({},i),{},{children:(0,s.jsx)("form",{onSubmit:r,children:n})}))}var a=r(5987),l=r(5533),u=["name","helperText"];function c(e){var n=e.name,r=e.helperText,i=(0,a.Z)(e,u),c=(0,o.Gc)().control;return(0,s.jsx)(o.Qr,{name:n,control:c,render:function(e){var n=e.field,o=e.fieldState.error;return(0,s.jsx)(l.Z,(0,t.Z)((0,t.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,error:!!o,helperText:o?null===o||void 0===o?void 0:o.message:r},i))}})}var d=r(2262),m=["name","label","helperText"];function f(e){var n=e.name,r=e.label,i=e.helperText,u=(0,a.Z)(e,m),c=(0,o.Gc)(),f=c.control,p=c.setValue,h=function(e,r){p(n,r,{shouldValidate:!0})};return(0,s.jsx)(o.Qr,{name:n,control:f,render:function(e){var n=e.field,o=e.fieldState.error;return(0,s.jsx)(d.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,onChange:h},u),{},{renderInput:function(e){return(0,s.jsx)(l.Z,(0,t.Z)({label:r,error:!!o,helperText:o?null===o||void 0===o?void 0:o.message:i},e))}}))}})}var p=r(4162),h=r(2791),x=["keyName","inputs"],Z=function(e){var n=e.keyName,r=void 0===n?"":n,i=e.inputs,u=void 0===i?[]:i,c=(0,a.Z)(e,x),d=(0,h.useRef)(null),m=(0,o.Gc)().control;return(0,s.jsx)(p.Z,{direction:"row",spacing:2,justifyContent:"center",ref:d,children:u.map((function(e,n){return(0,s.jsx)(o.Qr,{name:"".concat(r).concat(n+1),control:m,render:function(e){var o=e.field,i=e.fieldState.error;return(0,s.jsx)(l.Z,(0,t.Z)((0,t.Z)({},o),{},{error:!!i,autoFocus:0===n,placeholder:"-",onChange:function(e){!function(e,n){var t=e.target,o=t.maxLength,s=t.value,i=t.name,a=Number(i.replace(r,"")),l=document.querySelector("input[name=".concat(r).concat(a+1,"]"));s.length>o&&(e.target.value=s[0]),s.length>=o&&a<6&&null!==l&&l.focus(),n(e)}(e,o.onChange)},onFocus:function(e){return e.currentTarget.select()},InputProps:{sx:{width:{xs:36,sm:56},height:{xs:36,sm:56},"& input":{p:0,textAlign:"center"}}},inputProps:{maxLength:1,type:"number"}},c))}},e)}))})}},5393:function(e,n,r){var t=r(2791),o=r(9434),s=r(2140),i=r(7689);n.Z=function(e){var n=(0,o.I0)(),r=(0,i.s0)();return[(0,t.useCallback)((function(t){n(e(t)).unwrap().then((function(e){n((0,s.jW)({message:e.message,severity:"success"})),"OTP Sent Successfully!"===(null===e||void 0===e?void 0:e.message)&&r("/auth/verify-otp"),null!==e&&void 0!==e&&e.user&&(window.localStorage.setItem("userId",e.user._id),n((0,s.av)(null===e||void 0===e?void 0:e.user)))})).catch((function(e){n((0,s.jW)({message:e.message,severity:"error"})),console.log(e)}))}),[n,e])]}},7240:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t=r(4162),o=r(4565),s=r(6283),i=r(1087),a=r(4559),l=r(885),u=r(2791),c=r(8771),d=r(8254),m=r(3811),f=r(7205),p=r(6580),h=r(1134),x=r(8007),Z=r(4695),v=r(3309),g=r(3735),j=r(697),w=r(9534),y=r(2140),b=r(9434),k=r(5393),S=r(184),P=function(){var e=(0,u.useState)(!1),n=(0,l.Z)(e,2),r=n[0],o=n[1],s=(0,u.useState)(!1),a=(0,l.Z)(s,2),P=a[0],E=a[1],L=(0,b.v9)((function(e){return e.auth})).isLoading,C=(0,k.Z)(y.c0),I=(0,l.Z)(C,1)[0],F=(0,i.lr)(),W=(0,l.Z)(F,1)[0],q=x.Ry().shape({password:x.Z_().required("Password is required").min(6,"Password must be at least 6 characters"),passwordConfirm:x.Z_().required("Password is required").oneOf([x.iH("password"),null],"Password must match")}),T=(0,h.cI)({resolver:(0,Z.X)(q),defaultValues:{password:"",passwordConfirm:""}}),A=T.handleSubmit,R=T.formState.errors;return(0,S.jsx)(v.ZP,{methods:T,onSubmit:A((function(e){I({formValues:e,token:W.get("token")})})),children:(0,S.jsxs)(t.Z,{spacing:3,children:[!!R.afterSubmit&&(0,S.jsx)(c.Z,{severity:"error",children:R.afterSubmit.message}),(0,S.jsx)(v.au,{name:"password",label:"New Password",type:r?"text":"password",InputProps:{endAdornment:(0,S.jsx)(d.Z,{position:"end",children:(0,S.jsx)(m.Z,{onClick:function(){return o(!r)},children:r?(0,S.jsx)(g.Z,{}):(0,S.jsx)(j.Z,{})})})}}),(0,S.jsx)(v.au,{name:"passwordConfirm",label:"Confirm Password",type:P?"text":"password",InputProps:{endAdornment:(0,S.jsx)(d.Z,{position:"end",children:(0,S.jsx)(m.Z,{onClick:function(){return E(!P)},children:P?(0,S.jsx)(g.Z,{}):(0,S.jsx)(j.Z,{})})})}}),(0,S.jsx)(f.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",sx:w.f,children:L?(0,S.jsx)(p.Z,{color:"inherit"}):"Submit"})]})})},E=function(){return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(t.Z,{spacing:2,sx:{mb:5,position:"relative"},children:[(0,S.jsx)(o.Z,{variant:"h3",paragraph:!0,children:"Reset Password"}),(0,S.jsx)(o.Z,{sx:{color:"text.secondary",mb:5},children:"Please set your new password"}),(0,S.jsx)(P,{}),(0,S.jsxs)(s.Z,{component:i.rU,to:"/auth/login",color:"inherit",variant:"subtitle2",sx:{mt:3,mx:"auto",alignItems:"center",display:"inline-flex"},children:[(0,S.jsx)(a.Z,{}),"Return to sign in"]})]})})}},9534:function(e,n,r){r.d(n,{f:function(){return b}});var t=r(885),o=r(2791),s=r(1134),i=r(8007),a=r(4695),l=r(3309),u=r(4162),c=r(8771),d=r(8254),m=r(3811),f=r(6283),p=r(7205),h=r(6580),x=r(1087),Z=r(3735),v=r(697),g=r(2140),j=r(9434),w=r(5393),y=r(184),b={bgcolor:"text.primary",color:function(e){return"light"===e.palette.mode?"common.white":"grey.800"},"&:hover":{bgcolor:"text.primary",color:function(e){return"light"===e.palette.mode?"common.white":"grey.800"}}};n.Z=function(){var e=(0,o.useState)(!1),n=(0,t.Z)(e,2),r=n[0],k=n[1],S=(0,j.v9)((function(e){return e.auth})).isLoading,P=(0,w.Z)(g.x4),E=(0,t.Z)(P,1)[0],L=i.Ry().shape({email:i.Z_().required("Email is required").email("Email must be a valid email address"),password:i.Z_().required("Password is required")}),C=(0,s.cI)({resolver:(0,a.X)(L),defaultValues:{email:"demo@gochat.com",password:"demo123"}}),I=C.handleSubmit,F=C.formState.errors;return(0,y.jsxs)(l.ZP,{methods:C,onSubmit:I((function(e){E(e)})),children:[(0,y.jsxs)(u.Z,{spacing:3,children:[!!F.afterSubmit&&(0,y.jsx)(c.Z,{severity:"error",children:F.afterSubmit.message}),(0,y.jsx)(l.au,{name:"email",label:"Email address"}),(0,y.jsx)(l.au,{name:"password",label:"Password",type:r?"text":"password",InputProps:{endAdornment:(0,y.jsx)(d.Z,{position:"end",children:(0,y.jsx)(m.Z,{onClick:function(){return k(!r)},children:r?(0,y.jsx)(Z.Z,{}):(0,y.jsx)(v.Z,{})})})}})]}),(0,y.jsx)(u.Z,{alignItems:"flex-end",sx:{my:2},children:(0,y.jsx)(f.Z,{component:x.rU,to:"/auth/reset-password",variant:"body2",color:"inherit",underline:"always",children:"Forgot Password?"})}),(0,y.jsx)(p.Z,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",sx:b,children:S?(0,y.jsx)(h.Z,{color:"inherit"}):"Login"})]})}},4559:function(e,n,r){var t=r(2791),o=r(2602),s=r(7120),i=new Map;i.set("bold",(function(e){return t.createElement(t.Fragment,null,t.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return t.createElement(t.Fragment,null,t.createElement("polygon",{points:"160 208 80 128 160 48 160 208",opacity:"0.2"}),t.createElement("polygon",{points:"160 208 80 128 160 48 160 208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return t.createElement(t.Fragment,null,t.createElement("path",{d:"M163.1,40.6a8.4,8.4,0,0,0-8.8,1.7l-80,80a8.1,8.1,0,0,0,0,11.4l80,80A8.3,8.3,0,0,0,160,216a8.5,8.5,0,0,0,3.1-.6A8,8,0,0,0,168,208V48A8,8,0,0,0,163.1,40.6Z"}))})),i.set("light",(function(e){return t.createElement(t.Fragment,null,t.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return t.createElement(t.Fragment,null,t.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return t.createElement(t.Fragment,null,t.createElement("polyline",{points:"160 208 80 128 160 48",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,n){return(0,o._)(e,n,i)},l=(0,t.forwardRef)((function(e,n){return t.createElement(s.Z,Object.assign({ref:n},e,{renderPath:a}))}));l.displayName="CaretLeft",n.Z=l}}]);
//# sourceMappingURL=240.79ba9867.chunk.js.map